<!-- ðŸ  Default Home View -->
<div>
  <app-category-list></app-category-list>

  <!-- home.component.html -->

  <div class="container py-5">

  <!-- Recently Added Section Header -->
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h4 class="fw-bold mb-0 fs-3">
      <i class="bi bi-clock-history me-2 text-danger"></i>Recently Added
    </h4>
    <a routerLink="/products" class="btn btn-danger">View All</a>
  </div>

  <!-- Recently Added Horizontal Scroll -->
  <div class="d-flex overflow-auto gap-4 pb-3">
    <!-- Product Card -->
    <div class="flex-shrink-0" *ngFor="let product of recentlyAddedProducts" style="width: 300px;">
      <div class="product-card shadow rounded-4 border bg-white h-100">
        <div class="position-relative">
          <img [src]="'https://p2prental.runasp.net' + product.image"
               [alt]="product.name"
               class="rounded-top-4 w-100"
               style="height: 220px; object-fit: cover;" />
          <div class="position-absolute top-0 end-0 m-2 d-flex flex-column gap-2">
            <i class="bi icon fs-5"
               [ngClass]="isInWishlist(product.id) ? 'bi-heart-fill text-danger' : 'bi-heart text-muted'"
               (click)="toggleWishlist(product.id)"
               style="cursor: pointer;" title="Add to Wishlist">
            </i>
          </div>
        </div>
        <div class="p-3">
          <h6 class="fw-semibold text-truncate fs-6">{{ product.name }}</h6>
          <p class="text-danger fw-bold mb-1 fs-6">{{ product.price | currency:'INR' }}/day</p>
          <small class="text-muted d-block mb-1">
            <i class="bi bi-geo-alt me-1"></i>{{ product.location }}
          </small>
          <small class="text-muted d-block mb-1">
            <i class="bi bi-person me-1"></i>{{ product.ownerName }}
          </small>
          <small class="text-muted d-block mb-2">
            <i class="bi bi-clock me-1"></i>{{ product.createdAt | date: 'mediumDate' }}
          </small>
          <div class="d-flex justify-content-between align-items-center">
            <span class="badge-status"
                  [ngClass]="product.availability ? 'available' : 'unavailable'">
              {{ product.availability ? 'Available' : 'Unavailable' }}
            </span>
            <button class="btn btn-sm btn-danger" [routerLink]="['/products', product.id]">
              Rent Now
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Top Rated Section Header -->
  <div class="d-flex justify-content-between align-items-center mt-5 mb-3">
    <h4 class="fw-bold mb-0 fs-3">
      <i class="bi bi-star-fill me-2 text-warning"></i>Top Rated
    </h4>
    <a routerLink="/products" class="btn btn-danger">View All</a>
  </div>

  <!-- Top Rated Horizontal Scroll -->
  <div class="d-flex overflow-auto gap-4 pb-3">
    <!-- Product Card -->
    <div class="flex-shrink-0" *ngFor="let product of topRatedProducts" style="width: 300px;">
      <div class="product-card shadow rounded-4 border bg-white h-100">
        <div class="position-relative">
          <img [src]="'https://p2prental.runasp.net' + product.image"
               [alt]="product.name"
               class="rounded-top-4 w-100"
               style="height: 220px; object-fit: cover;" />
          <div class="position-absolute top-0 end-0 m-2 d-flex flex-column gap-2">
            <i class="bi icon fs-5"
               [ngClass]="isInWishlist(product.id) ? 'bi-heart-fill text-danger' : 'bi-heart text-muted'"
               (click)="toggleWishlist(product.id)"
               style="cursor: pointer;" title="Add to Wishlist">
            </i>
          </div>
        </div>
        <div class="p-3">
          <h6 class="fw-semibold text-truncate fs-6">{{ product.name }}</h6>
          <p class="text-danger fw-bold mb-1 fs-6">{{ product.price | currency:'INR' }}/day</p>
          <small class="text-muted d-block mb-1">
            <i class="bi bi-geo-alt me-1"></i>{{ product.location }}
          </small>
          <small class="text-muted d-block mb-1">
            <i class="bi bi-person me-1"></i>{{ product.ownerName }}
          </small>
          <small class="text-muted d-block mb-2">
            <i class="bi bi-clock me-1"></i>{{ product.createdAt | date: 'mediumDate' }}
          </small>
          <div class="d-flex justify-content-between align-items-center">
            <span class="badge-status"
                  [ngClass]="product.availability ? 'available' : 'unavailable'">
              {{ product.availability ? 'Available' : 'Unavailable' }}
            </span>
            <button class="btn btn-sm btn-danger" [routerLink]="['/products', product.id]">
              Rent Now
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>

</div>





  <!-- <app-product-list [limit]="8"></app-product-list> -->
  <app-product-list *ngIf="searchResults" [products]="searchResults"></app-product-list>


</div>



<!-- Rent an Item Button -->





<section class="features-section py-5 bg-light">
  <div class="container">
    <div class="row text-center">

      <div class="col-md-3 mb-4">
        <div class="feature-box p-3 border rounded bg-white h-100 shadow-sm">
          <img src="assets/images/support.png" alt="Customer Support" class="mb-3" style="width: 48px;" />
          <h5>24/7 Support</h5>
          <p>We are here to help you anytime.</p>
        </div>
      </div>


      <div class="col-md-3 mb-4">
        <div class="feature-box p-3 border rounded bg-white h-100 shadow-sm">
          <img src="assets/images/gaurentee.png" alt="Money-Back Guarantee" class="mb-3" style="width: 48px;" />
          <h5>Money-Back Guarantee</h5>
          <p>Full refund within 7 days.</p>
        </div>
      </div>


      <div class="col-md-3 mb-4">
        <div class="feature-box p-3 border rounded bg-white h-100 shadow-sm">
          <img src="assets/images/fast-delivery.png" alt="Fast Delivery" class="mb-3" style="width: 48px;" />
          <h5>Fast Delivery</h5>
          <p>Quick and safe shipping to your door.</p>
        </div>
      </div>


      <div class="col-md-3 mb-4">
        <div class="feature-box p-3 border rounded bg-white h-100 shadow-sm">
          <img src="assets/images/customers.png" alt="Trusted Customers" class="mb-3" style="width: 48px;" />
          <h5>Trusted by 10K+ Customers</h5>
          <p>We care about your trust and safety.</p>
        </div>
      </div>

    </div>
  </div>
</section>